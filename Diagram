Table roles {
  id int [pk]
  role_name varchar[50]
}

Enum genders {
  MALE
  FEMALE
}

Table departments {
  id int [pk, ref: < users_departments.department_id]
  department_name varchar[255]
  created_at timestamp
  updated_at timestamp
}

Table users {
  id int [pk, ref: < users_departments.user_id, 
  ref: - freecycle_posts.user_id, 
  ref: < volunteer_events.user_created_event_id,
  ref: < volunteer_event_participation.participated_user_id,
  ref: < onsite_enrollments.user_id]
  username varchar[25]
  first_name varchar[100]
  middle_name varchar[100]
  last_name varchar[100]
  gender genders
  role_id int [ref: - roles.id]
  password_hash varchar[255] [not null]
  email varchar[255] [unique, not null]
  phone varchar[15] [unique, not null]
  address text [not null]
  birth_date datetime [not null]
  created_at timestamp
  updated_at timestamp
}

table users_departments {
  user_id int [pk]
  department_id int [pk]
}


//G4 freecycle
Table freecycle_posts {
  id int [pk, ref: < freecycle_posts_categories.post_id]
  item_name varchar[100] [not null]
  photo_url text [not null]
  description text [not null]
  user_id int [note: 'CONSTRAINT', null]
  department_id int [note: 'CONSTRAINT', null, ref: - departments.id]
  isGiven boolean [default: false]
  created_at timestamp
  updated_at timestamp
}

Table categories {
  id int [pk, ref: < freecycle_posts_categories.category_id]
  category_name varchar[100] [note: 'default: furniture, electronic, etc.']
  created_at timestamp
  updated_at timestamp
}

Table freecycle_posts_categories {
  post_id int [pk]
  category_id int [pk]
  
}


//G6 volunteer
Enum volunteer_event_status {
  DRAFT
  PENDING
  APPROVED
  REJECTED
}

table volunteer_events {
  id int [pk, ref: < volunteer_event_participation.volunteer_event_id]
  user_created_event_id int
  title varchar[255] [not null]
  description text [not null]
  start_date timestamp
  end_date timestamp
  register_deadline datetime
  location text
  status volunteer_event_status [note: 'default: DRAFT']
  created_at timestamp
  updated_at timestamp
}

table volunteer_event_participation {
  id int [pk]
  volunteer_event_id int
  participated_user_id int
  current_participator int [default: 0, not null]
  avaliable_seat int [not null, default: 0]
  total_seat int [not null, default: 1]
  created_at timestamp
  updated_at timestamp
}


//G1 knowo your AI
enum course_types {
  ONLINE
  ONSITE
  ONLINEANDONSITE
}

table online_courses {
  id int [pk]
  video_name varchar[100] [not null]
  video_description text [not null]
  duration_minutes varchar[10] [not null]
  video_order int [not null]
  video_file_path text [not null]
  course_id int [not null]
  created_at timestamp
  updated_at timestamp
}

table onsites{
  id int [pk, ref: < onsite_enrollments.onsite_id]
  course_id int
  event_venue text [not null]
  duration_hours varchar[5]
  event_datetime datetime [not null]
  registration_deadline datetime [not null]
  avaliable_seat int [not null, default: 0]
  total_seat int [not null, default: 1]
  created_at timestamp
  updated_at timestamp
}

table onsite_enrollments {
  id int [pk]
  onsite_id int
  user_id int [pk, note: 'for who wants to study onsite.']
}

table courses {
  id int [pk, ref: < online_courses.course_id,
    ref: < onsites.id]
  course_name varchar[100] [not null]
  course_description text [not null]
  course_type course_types [not null]
  cover_image text [note: 'url', not null]
  created_at timestamp
  updated_at timestamp
}


//G3 event hub

table event {
  id int [pk]
  title varchar[50]
  description varchar[255]
  date date
  time timestamp
  location text
  organizerEmail varchar[255]
  postedByAdminId int [note: "all dept will have admin"]
}

table bookmark {
  userId int [pk, ref: < users.id]
  eventId int [pk, ref: < event.id]
  createdAt time
}


//G12 healthcare
Table patients {
  patient_id varchar [pk, ref: - users.id]
  first_name varchar[25] [ref: - users.first_name]
  last_name varchar[25] [ref: - users.last_name]
  email varchar[255] [ref: - users.email]
  address text [ref: - users.address]
  emergency_contact varchar(200)
  finance_id varchar(100)
  housing_id varchar(100)
  sos_id varchar(100)
  created_at timestamp
}

Table facilities {
  facility_id varchar [pk]
  name varchar(255)
  type varchar(50)
  address text
  phone varchar(20)
  latitude decimal(10,8)
  longitude decimal(11,8)
  emergency_services boolean
  finance_merchant_id varchar(100)
  housing_zone varchar(100)
  sos_code varchar(50)
  department_id int [ref: > departments.id]
  created_at timestamp
}

Table beds {
  bed_id varchar [pk]
  facility_id varchar [ref: > facilities.facility_id]
  bed_number varchar(20)
  bed_type varchar(50)
  status varchar(20)
  patient_id varchar [ref: - patients.patient_id]
  admission_date timestamp
  finance_billing_id varchar(100)
  sos_priority integer
}

Table appointments {
  appointment_id varchar [pk]
  patient_id varchar [ref: - patients.patient_id]
  facility_id varchar [ref: > facilities.facility_id]
  user_id int [ref: > users.id]
  appointment_datetime timestamp
  type varchar(50)
  status varchar(20)
  finance_payment_id varchar(100)
  housing_transport_id varchar(100)
  sos_emergency boolean
  created_at timestamp
}

Table prescriptions {
  prescription_id varchar [pk]
  patient_id varchar [ref: - patients.patient_id]
  user_id int [ref: - users.id]
  facility_id varchar [ref: > facilities.facility_id]
  medication_name varchar(255)
  quantity integer
  status varchar(20)
  finance_payment_id varchar(100)
  housing_delivery_id varchar(100)
  sos_critical boolean
  created_at timestamp
}

Table ambulances {
  ambulance_id varchar [pk]
  vehicle_number varchar(50)
  status varchar(20)
  current_latitude decimal(10,8)
  current_longitude decimal(11,8)
  base_facility_id varchar [ref: > facilities.facility_id]
  finance_rate decimal(10,2)
  housing_coverage_zones json
  sos_priority integer
  created_at timestamp
}


//G13 emergency
Table emergency_calls {
  emergency_id varchar [pk]
  patient_id varchar [ref: - patients.patient_id]
  caller_phone varchar(20)
  emergency_type varchar(50)
  severity varchar(20)
  location_address text
  ambulance_id varchar [ref: > ambulances.ambulance_id]
  facility_id varchar [ref: > facilities.facility_id]
  status varchar(20)
  finance_billing_id varchar(100)
  housing_unit varchar(100)
  sos_incident_id varchar(100)
  created_at timestamp
}

Table payments {
  payment_id varchar [pk]
  patient_id varchar [ref: - patients.patient_id]
  facility_id varchar [ref: > facilities.facility_id]
  service_type varchar(50)
  service_id varchar
  amount decimal(10,2)
  currency varchar(3)
  payment_method varchar(50)
  insurance_coverage decimal(10,2)
  patient_copay decimal(10,2)
  status varchar(20)
  payment_date timestamp
  finance_transaction_id varchar(100)
  insurance_claim_id varchar(100)
  created_at timestamp
  updated_at timestamp
}

Table team_integrations {
  integration_id varchar [pk]
  team_name varchar(50)
  healthcare_table varchar(50)
  healthcare_id varchar
  external_id varchar(100)
  data_type varchar(50)
  status varchar(20)
  additional_data json
  created_at timestamp
}

